function addpoc(e){var t=e.verify===1?"<tr>":'<tr class="warning">';t+='<td class="hidden-xs hidden-sm text-success">'+e.pid+"</td>";t+='<td class="text-danger">'+e.name+"</td>";t+='<td class="hidden-xs hidden-sm text-info">'+e.author+"</td>";t+='<td class="hidden-xs hidden-sm text-warning">'+e.time+"</td>";t+='<td class="hidden-xs">'+(e.verify===1?"审核通过":"等待审核")+"</td>";t+="</tr>";return t}function goto(e){$(".pages").attr("class","pages");switch(e){case"prev":temp.pages--;break;case"next":temp.pages++;break;default:temp.pages=parseInt(e);break}if(temp.pages<=1){temp.pages=1;$('.pages[name="prev"]').attr("class","pages disabled")}if(temp.pages>=temp.count){temp.pages=temp.count;$('.pages[name="next"]').attr("class","pages disabled")}$('.pages[name="'+temp.pages+'"]').attr("class","pages active");var t=temp.pocs[temp.pages-1];var a="";for(var s in t){var n=t[s];a+=addpoc({pid:w2utils.encodeTags(n.pid),name:w2utils.encodeTags(n.name),time:n.time,author:w2utils.encodeTags(n.author),verify:n.verify})}$("#pocs").html(a)}var temp={pocs:[],count:0,pages:1};$(document).ready(function(){toastr.info("连接服务器中..","Info");var e=io.connect(mst_config_server);e.on("connect",function(){toastr.success("连接服务器成功!","Success");toastr.info("加载POC列表中..","Info");this.emit("api",{act:"getpocs"})}).on("disconnect",function(){toastr.error("服务器断开连接!","Error")}).on("reconnecting",function(){toastr.warning("无法连接服务器","Warning")}).on("api",function(e){if(e.act==="getpocs"){$("#pocs_msg").hide();$("#pocs_table").show();$("#pocs_num").html(e.pocs.length);for(var t=0;t<e.pocs.length;t++){var a=e.pocs[e.pocs.length-(t+1)];temp.pocs[parseInt(t/15)]=temp.pocs[parseInt(t/15)]||[];temp.pocs[parseInt(t/15)].push(a)}var s='<ul class="pagination pull-right">';s+='<li class="pages" name="prev"><a href="javascript:goto(\'prev\');">&laquo;</a></li>';for(var t in temp.pocs){t++;temp.count++;s+='<li class="pages" name="'+t+'"><a href="javascript:goto('+t+');">'+t+"</a></li>"}s+='<li class="pages" name="next"><a href="javascript:goto(\'next\');">&raquo;</a></li>';s+="</ul>";$("#pages").html(s);goto(1);toastr.info("加载完毕!","Info")}})});
//# sourceMappingURL=pocs.min.map